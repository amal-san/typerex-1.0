{"ast":null,"code":"var _jsxFileName = \"/home/amalsan/Github/Typerex/src/Pages/Start.js\";\nimport React from 'react';\nimport auth from '../Components/auth';\nimport { IoMdRefresh } from \"react-icons/io\";\nimport { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport TextLoader from '../Components/TextLoader';\nimport cogoToast from 'cogo-toast';\nexport function Start(props) {\n  const [data, setData] = useState(false);\n  const [text, setText] = useState([]);\n  const [words, setWord] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const history = useHistory();\n\n  function startTimer(e) {\n    document.getElementById('paraEnter').disabled = false;\n    document.getElementById('startbt').style.background = 'green';\n    var start = document.getElementById(\"startbt\");\n    start.className += \"disabled\";\n    var self = this;\n    setTimeout(function () {\n      document.getElementById('startbt').style.background = 'orangered';\n      document.getElementById('paraEnter').disabled = true;\n      var text = document.getElementById('wpm').innerHTML;\n      var wpm = text.split(\" \")[1];\n      var username = localStorage.getItem(\"typerex_username\");\n      auth.userUpdate(username, wpm).then(() => {\n        cogoToast.success( /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 16\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 18\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 23\n          }\n        }, \"Your wpm is \", wpm), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 49\n          }\n        }), /*#__PURE__*/React.createElement(\"i\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 58\n          }\n        }, \" Click the start button \"))), {\n          hideAfter: 5\n        });\n      }).catch(e => {\n        console.log(e);\n      });\n    }, 6000);\n  }\n\n  useEffect(props => {\n    document.title = 'Start';\n    const username = localStorage.getItem('typerex_username');\n    console.log(username);\n    auth.userInfo(username).then(data => {\n      console.log(data);\n      console.log('logged in');\n    }).catch(e => {\n      history.push('/');\n    });\n    const url = \"https://typeracingapi.rishikc.com/.netlify/functions/server/text/\"; // Request\n\n    setLoading(true);\n    fetch(url).then(res => {\n      if (res.status === 200) {\n        return res.json();\n      } else return null;\n    }).then(data => {\n      console.log(data);\n\n      if (data !== null) {\n        setLoading(false);\n        setData(true);\n        setWord(data.text.split(' '));\n        setText(data.text);\n        console.log(text);\n        console.log(words);\n      } else {\n        setData(false);\n      }\n    });\n  }, []);\n\n  if (data) {\n    var rows = [];\n\n    for (var i = 0; i < text.length; i++) {\n      rows.push( /*#__PURE__*/React.createElement(\"span\", {\n        id: i,\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 27\n        }\n      }, text[i]));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"test-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"test-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"para-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 41\n    }\n  }, \" \", /*#__PURE__*/React.createElement(TextLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 96\n    }\n  }), \" \") : rows, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"reloadbt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"reload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 30\n    }\n  }, /*#__PURE__*/React.createElement(IoMdRefresh, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 30\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"test-enter\",\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    disabled: true,\n    id: \"paraEnter\",\n    type: \"text\",\n    placeholder: \"Start typing......\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 26\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"activity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    id: \"startbt\",\n    onClick: startTimer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 31\n    }\n  }, \" Start \"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"timer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 31\n    }\n  }, \"Time: \"), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"wpm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 31\n    }\n  }, \"Wpm: \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"test-below\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 23\n    }\n  }));\n}","map":{"version":3,"sources":["/home/amalsan/Github/Typerex/src/Pages/Start.js"],"names":["React","auth","IoMdRefresh","useState","useEffect","useHistory","TextLoader","cogoToast","Start","props","data","setData","text","setText","words","setWord","loading","setLoading","history","startTimer","e","document","getElementById","disabled","style","background","start","className","self","setTimeout","innerHTML","wpm","split","username","localStorage","getItem","userUpdate","then","success","hideAfter","catch","console","log","title","userInfo","push","url","fetch","res","status","json","rows","i","length","display","justifyContent"],"mappings":"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","sourcesContent":["import React from 'react';\nimport auth from '../Components/auth';\nimport { IoMdRefresh } from \"react-icons/io\";\nimport { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport TextLoader from '../Components/TextLoader';\nimport cogoToast from 'cogo-toast';\n\n\n\n\n\n\nexport function Start (props) {\n\n\tconst[ data , setData ] = useState(false)\n\n\tconst[ text ,setText ] = useState([])\n\n\tconst[ words ,setWord] = useState([])\n\n\tconst[ loading, setLoading ] = useState(true)\n\n\tconst history = useHistory();\n\n\n\n\n\tfunction startTimer(e) {\n\t\t document.getElementById('paraEnter').disabled = false;\n\t     document.getElementById('startbt').style.background = 'green';\n\t     var start = document.getElementById(\"startbt\");\n\t     start.className += \"disabled\";\n\t     var self = this;\n\n\n\t    setTimeout(function(){\n\n\t        document.getElementById('startbt').style.background = 'orangered';\n\t        document.getElementById('paraEnter').disabled = true; \n\t        var text = document.getElementById('wpm').innerHTML\n\t        var wpm = text.split(\" \")[1]\n\t        var username = localStorage.getItem(\"typerex_username\")\n\t        auth.userUpdate(username,wpm)\n\t\t      .then(() => {\n\t\t      \tcogoToast.success(\n\t              <div>\n\t                <div><b>Your wpm is { wpm }</b><br></br><i> Click the start button </i></div>\n\t              </div>,{ hideAfter:5},\n\t            );\n\t\t        \n\t\t      })\n\t\t      .catch(e => {\n\t\t        console.log(e)\n\t\t      })\n\n\n\t    },6000)\n\t}\n\n\t\n\n\n\n\n\n\tuseEffect((props) => {\n  \t\t\n  \tdocument.title='Start';\n  \tconst username = localStorage.getItem('typerex_username');\n  \t\tconsole.log(username);\n      auth.userInfo(username)\n      .then((data) => {\n      \tconsole.log(data);\n        console.log('logged in')\n      })\n      .catch(e => {\n      \thistory.push('/')\n      })\n\n     const url = \"https://typeracingapi.rishikc.com/.netlify/functions/server/text/\";\n\n        // Request\n        setLoading(true);\n\t\t       \n        fetch(url).then(res => {\n            if(res.status === 200) {\n                return res.json()\n            }\n            else return null;\n        }).then(data => {\n            console.log(data)\n            if(data!==null)  {\n            \tsetLoading(false)\n            \tsetData(true)\n            \tsetWord(data.text.split(' '))\n            \tsetText(data.text)\n            \tconsole.log(text)\n            \tconsole.log(words)\n            } else {\n                setData(false)\n            }\n        });\n\n    \n  \t\t},[]);\n\n        if(data){\n            var rows = [];\n            for (var i = 0; i < text.length; i++) {\n                rows.push(<span id={i} key={i}>{text[i]}</span>);\n            }\n        }\n\n\t    return(   \n\t    \t<div className='test-container'> \n                    <div className='test-card'>\n                        <div className='para-card'>\n                            { loading ? <div style={{display:'flex',justifyContent:'center'}}> <TextLoader/> </div> : rows }\n                            <div className='reloadbt'>\n                            \t<span className='reload'> \n                            \t< IoMdRefresh /> \n                            \t</span>\n                            </div>\n                        </div>\n                        <div className='test-enter' style={{display:'flex'}}>\n                         <input disabled id='paraEnter' type='text' placeholder='Start typing......'></input>\n                          </div>\n                           <div className='activity'>\n                              <a id='startbt' onClick={startTimer}> Start </a>\n                              <p id='timer'>Time: </p>\n                              <p id='wpm'>Wpm: </p>\n                           </div>\n                        </div>\n                      <div className='test-below'>\n                    </div>\n                </div>\n\t\t\t);\n}\n\n\n"]},"metadata":{},"sourceType":"module"}