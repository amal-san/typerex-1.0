{"ast":null,"code":"import { Query } from '@apollo/react-components';\nimport { gql } from 'apollo-boost';\nimport React from 'react';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport ApolloClient from 'apollo-boost';\nconst client = new ApolloClient({\n  uri: 'https://typerex.herokuapp.com/'\n});\n\nclass Auth {\n  constructor() {\n    this.authenticated = false;\n  }\n\n  async userUpdate(username, wpm) {\n    const result = await client.mutate({\n      mutation: gql`\n\t\t\t\tmutation {\n\t\t\t\t  userUpdate(username:\"${username}\" wpm:\"${wpm}\"){\n\t\t\t\t  \tusername\n\t\t\t\t    wpm\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t`\n    }).then(function (result) {\n      return result;\n    }).catch(e => console.log(e));\n\n    if (result) {\n      this.authenticated = true;\n    }\n\n    return result;\n  }\n\n  async login(username) {\n    const result = await client.mutate({\n      mutation: gql`\n\t\t  \tmutation {\n\t\t\t\t  userAdd(username:\"${username}\"){\n\t\t\t\t    username\n\t\t\t\t    wpm\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t  \t`\n    }).then(function (result) {\n      return result;\n    }).catch(e => console.log(e));\n\n    if (result) {\n      this.authenticated = true;\n    }\n\n    return result;\n  }\n\n  async userInfo(username) {\n    const result = await client.query({\n      query: gql`\n\t\t     {\n\t\t\t  userInfo(username:\"${username}\"){\n\t\t\t    username\n\t\t\t    wpm\n\t\t\t  }\n\t\t\t }\n\t\t    `\n    }).then(function (result) {\n      return result;\n    });\n\n    if (result) {\n      this.authenticated = true;\n    }\n\n    return result;\n  }\n\n  logout(cb) {\n    this.authenticated = false;\n    cb();\n  }\n\n  isAuthenticated() {\n    return this.authenticated;\n  }\n\n}\n\nconst USERINFO = gql`\n{\n  userInfo(username:\"amalsan\"){\n    username\n    wpm\n  }\n}`; // const USERUPDATE;\n// const USERDELETE; \n// const USERADD;\n// const USERLIST;\n\nexport default new Auth();","map":{"version":3,"sources":["/home/amalsan/Github/Typerex/src/Components/auth.js"],"names":["Query","gql","React","ApolloProvider","ApolloClient","client","uri","Auth","constructor","authenticated","userUpdate","username","wpm","result","mutate","mutation","then","catch","e","console","log","login","userInfo","query","logout","cb","isAuthenticated","USERINFO"],"mappings":"AAAA,SAASA,KAAT,QAAsB,0BAAtB;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,qBAA/B;AACA,OAAOC,YAAP,MAAyB,cAAzB;AAKA,MAAMC,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC9BE,EAAAA,GAAG,EAAE;AADyB,CAAjB,CAAf;;AAMA,MAAMC,IAAN,CAAW;AAEVC,EAAAA,WAAW,GAAE;AACZ,SAAKC,aAAL,GAAqB,KAArB;AACA;;AAED,QAAMC,UAAN,CAAiBC,QAAjB,EAA0BC,GAA1B,EAA+B;AAC9B,UAAMC,MAAM,GAAG,MAAMR,MAAM,CACzBS,MADmB,CACZ;AACPC,MAAAA,QAAQ,EAACd,GAAI;;6BAEYU,QAAS,UAASC,GAAI;;;;;;AAHxC,KADY,EAWnBI,IAXmB,CAWd,UAASH,MAAT,EAAgB;AACrB,aAAOA,MAAP;AACA,KAbmB,EAcnBI,KAdmB,CAcbC,CAAC,IAAIC,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAdQ,CAArB;;AAgBC,QAAGL,MAAH,EAAW;AACV,WAAKJ,aAAL,GAAqB,IAArB;AACA;;AACD,WAAOI,MAAP;AAED;;AAED,QAAMQ,KAAN,CAAYV,QAAZ,EAAsB;AACrB,UAAME,MAAM,GAAG,MAAMR,MAAM,CACxBS,MADkB,CACX;AACPC,MAAAA,QAAQ,EAACd,GAAI;;0BAEQU,QAAS;;;;;;AAHvB,KADW,EAWlBK,IAXkB,CAWb,UAASH,MAAT,EAAgB;AACrB,aAAOA,MAAP;AACA,KAbkB,EAclBI,KAdkB,CAcZC,CAAC,IAAIC,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAdO,CAArB;;AAeE,QAAIL,MAAJ,EAAY;AACb,WAAKJ,aAAL,GAAqB,IAArB;AACE;;AACE,WAAOI,MAAP;AACL;;AAED,QAAMS,QAAN,CAAeX,QAAf,EAAyB;AACxB,UAAME,MAAM,GAAG,MAAMR,MAAM,CACxBkB,KADkB,CACZ;AACLA,MAAAA,KAAK,EAAEtB,GAAI;;0BAESU,QAAS;;;;;;AAHxB,KADY,EAWlBK,IAXkB,CAWb,UAASH,MAAT,EAAiB;AACtB,aAAOA,MAAP;AACA,KAbkB,CAArB;;AAeA,QAAIA,MAAJ,EAAY;AACX,WAAKJ,aAAL,GAAqB,IAArB;AACA;;AACD,WAAOI,MAAP;AACA;;AAGDW,EAAAA,MAAM,CAACC,EAAD,EAAK;AACV,SAAKhB,aAAL,GAAqB,KAArB;AACAgB,IAAAA,EAAE;AACF;;AAKDC,EAAAA,eAAe,GAAG;AACjB,WAAO,KAAKjB,aAAZ;AACA;;AArFS;;AA2FX,MAAMkB,QAAQ,GAAG1B,GAAI;;;;;;EAArB,C,CASA;AAGA;AAGA;AAGA;;AAGA,eAAe,IAAIM,IAAJ,EAAf","sourcesContent":["import { Query } from '@apollo/react-components';\nimport { gql } from 'apollo-boost';\nimport React from 'react';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport ApolloClient from 'apollo-boost';\n\n\n\n\nconst client = new ApolloClient({\n  uri: 'https://typerex.herokuapp.com/',\n});\n\n\n\nclass Auth {\n\n\tconstructor(){\n\t\tthis.authenticated = false;\n\t}\n\n\tasync userUpdate(username,wpm) {\n\t\tconst result = await client \n\t\t\t.mutate({\n\t\t\t\tmutation:gql`\n\t\t\t\tmutation {\n\t\t\t\t  userUpdate(username:\"${username}\" wpm:\"${wpm}\"){\n\t\t\t\t  \tusername\n\t\t\t\t    wpm\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t`\n\t\t\t})\n\t\t\t.then(function(result){\n\t\t\t\treturn result;\n\t\t\t})\n\t\t\t.catch(e => console.log(e))\n\n\t\t\tif(result) {\n\t\t\t\tthis.authenticated = true;\n\t\t\t}\n\t\t\treturn result;\n\n\t}\n\n\tasync login(username) {\n\t\tconst result = await client\n\t\t  .mutate({\n\t\t  \tmutation:gql`\n\t\t  \tmutation {\n\t\t\t\t  userAdd(username:\"${username}\"){\n\t\t\t\t    username\n\t\t\t\t    wpm\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t  \t`\n\t\t  })\n\t\t  .then(function(result){\n\t\t  \treturn result;\n\t\t  })\n\t\t  .catch(e => console.log(e))\n\t\t  if (result) {\n\t\t\tthis.authenticated = true;\n\t\t  }\n   \t\t  return result;\n\t}\n\n\tasync userInfo(username) {\n\t\tconst result = await client\n\t\t  .query({\n\t\t    query: gql`\n\t\t     {\n\t\t\t  userInfo(username:\"${username}\"){\n\t\t\t    username\n\t\t\t    wpm\n\t\t\t  }\n\t\t\t }\n\t\t    `\n\t\t  })\n\t\t  .then(function(result) {\n\t\t  \treturn result\n\t\t  });\n\n\t\tif (result) {\n\t\t\tthis.authenticated = true;\n\t\t}\n\t\treturn result;\n\t}\n\n\n\tlogout(cb) {\n\t\tthis.authenticated = false;\n\t\tcb()\n\t}\n\n\n\n\n\tisAuthenticated() {\n\t\treturn this.authenticated;\n\t}\n\n\n}\n\n\nconst USERINFO = gql`\n{\n  userInfo(username:\"amalsan\"){\n    username\n    wpm\n  }\n}`\n\n\n// const USERUPDATE;\n\n\n// const USERDELETE; \n\n\n// const USERADD;\n\n\n// const USERLIST;\n\n\nexport default new Auth();"]},"metadata":{},"sourceType":"module"}