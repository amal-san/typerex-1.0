{"ast":null,"code":"import { Query } from '@apollo/react-components';\nimport { gql } from 'apollo-boost';\nimport React from 'react';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport ApolloClient from 'apollo-boost';\nconst client = new ApolloClient({\n  uri: 'https://typerex.herokuapp.com/'\n});\n\nclass Auth {\n  constructor() {\n    this.authenticated = false;\n  }\n\n  async login(username) {\n    const result = await client.mutation({\n      mutation: gql`\n\t\t  \tmutation {\n\t\t\t\t  userAdd(username:\"${username}\"){\n\t\t\t\t    username\n\t\t\t\t    wpm\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t  \t`\n    }).then(function (result) {\n      console.log(result);\n      this.authenticated = true;\n    }).catch(e => console.log(e));\n    console.log(result);\n    return result;\n  }\n\n  async userInfo(username) {\n    const result = await client.query({\n      query: gql`\n\t\t     {\n\t\t\t  userInfo(username:\"${username}\"){\n\t\t\t    username\n\t\t\t    wpm\n\t\t\t  }\n\t\t\t }\n\t\t    `\n    }).then(function (result) {\n      return result;\n    });\n\n    if (result) {\n      console.log(result);\n      this.authenticated = true;\n    }\n\n    return result;\n  }\n\n  logout(cb) {\n    this.authenticated = false;\n    cb();\n  }\n\n  isAuthenticated() {\n    return this.authenticated;\n  }\n\n}\n\nconst USERINFO = gql`\n{\n  userInfo(username:\"amalsan\"){\n    username\n    wpm\n  }\n}`; // const USERUPDATE;\n// const USERDELETE; \n// const USERADD;\n// const USERLIST;\n\nexport default new Auth();","map":{"version":3,"sources":["/home/amalsan/Github/Typerex/src/Components/auth.js"],"names":["Query","gql","React","ApolloProvider","ApolloClient","client","uri","Auth","constructor","authenticated","login","username","result","mutation","then","console","log","catch","e","userInfo","query","logout","cb","isAuthenticated","USERINFO"],"mappings":"AAAA,SAASA,KAAT,QAAsB,0BAAtB;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,qBAA/B;AACA,OAAOC,YAAP,MAAyB,cAAzB;AAKA,MAAMC,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC9BE,EAAAA,GAAG,EAAE;AADyB,CAAjB,CAAf;;AAMA,MAAMC,IAAN,CAAW;AAEVC,EAAAA,WAAW,GAAE;AACZ,SAAKC,aAAL,GAAqB,KAArB;AACA;;AAED,QAAMC,KAAN,CAAYC,QAAZ,EAAsB;AACrB,UAAMC,MAAM,GAAG,MAAMP,MAAM,CACxBQ,QADkB,CACT;AACTA,MAAAA,QAAQ,EAACZ,GAAI;;0BAEQU,QAAS;;;;;;AAHrB,KADS,EAWlBG,IAXkB,CAWb,UAASF,MAAT,EAAgB;AACrBG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACA,WAAKH,aAAL,GAAqB,IAArB;AACA,KAdkB,EAelBQ,KAfkB,CAeZC,CAAC,IAAIH,OAAO,CAACC,GAAR,CAAYE,CAAZ,CAfO,CAArB;AAgBEH,IAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACG,WAAOA,MAAP;AACL;;AAED,QAAMO,QAAN,CAAeR,QAAf,EAAyB;AACxB,UAAMC,MAAM,GAAG,MAAMP,MAAM,CACxBe,KADkB,CACZ;AACLA,MAAAA,KAAK,EAAEnB,GAAI;;0BAESU,QAAS;;;;;;AAHxB,KADY,EAWlBG,IAXkB,CAWb,UAASF,MAAT,EAAiB;AACtB,aAAOA,MAAP;AACA,KAbkB,CAArB;;AAeA,QAAIA,MAAJ,EAAY;AACXG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACA,WAAKH,aAAL,GAAqB,IAArB;AACA;;AACD,WAAOG,MAAP;AACA;;AAGDS,EAAAA,MAAM,CAACC,EAAD,EAAK;AACV,SAAKb,aAAL,GAAqB,KAArB;AACAa,IAAAA,EAAE;AACF;;AAEDC,EAAAA,eAAe,GAAG;AACjB,WAAO,KAAKd,aAAZ;AACA;;AA1DS;;AAgEX,MAAMe,QAAQ,GAAGvB,GAAI;;;;;;EAArB,C,CASA;AAGA;AAGA;AAGA;;AAGA,eAAe,IAAIM,IAAJ,EAAf","sourcesContent":["import { Query } from '@apollo/react-components';\nimport { gql } from 'apollo-boost';\nimport React from 'react';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport ApolloClient from 'apollo-boost';\n\n\n\n\nconst client = new ApolloClient({\n  uri: 'https://typerex.herokuapp.com/',\n});\n\n\n\nclass Auth {\n\n\tconstructor(){\n\t\tthis.authenticated = false;\n\t}\n\n\tasync login(username) {\n\t\tconst result = await client\n\t\t  .mutation({\n\t\t  \tmutation:gql`\n\t\t  \tmutation {\n\t\t\t\t  userAdd(username:\"${username}\"){\n\t\t\t\t    username\n\t\t\t\t    wpm\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t  \t`\n\t\t  })\n\t\t  .then(function(result){\n\t\t  \tconsole.log(result)\n\t\t  \tthis.authenticated = true;\n\t\t  })\n\t\t  .catch(e => console.log(e))\n\t\t  console.log(result);\n   \t\t  return result;\n\t}\n\n\tasync userInfo(username) {\n\t\tconst result = await client\n\t\t  .query({\n\t\t    query: gql`\n\t\t     {\n\t\t\t  userInfo(username:\"${username}\"){\n\t\t\t    username\n\t\t\t    wpm\n\t\t\t  }\n\t\t\t }\n\t\t    `\n\t\t  })\n\t\t  .then(function(result) {\n\t\t  \treturn result\n\t\t  });\n\n\t\tif (result) {\n\t\t\tconsole.log(result)\n\t\t\tthis.authenticated = true;\n\t\t}\n\t\treturn result;\n\t}\n\n\n\tlogout(cb) {\n\t\tthis.authenticated = false;\n\t\tcb()\n\t}\n\n\tisAuthenticated() {\n\t\treturn this.authenticated;\n\t}\n\n\n}\n\n\nconst USERINFO = gql`\n{\n  userInfo(username:\"amalsan\"){\n    username\n    wpm\n  }\n}`\n\n\n// const USERUPDATE;\n\n\n// const USERDELETE; \n\n\n// const USERADD;\n\n\n// const USERLIST;\n\n\nexport default new Auth();"]},"metadata":{},"sourceType":"module"}