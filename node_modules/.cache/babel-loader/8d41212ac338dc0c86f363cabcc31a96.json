{"ast":null,"code":"var _jsxFileName = \"/home/amalsan/Github/Typerex/src/Pages/Start.js\";\nimport React from 'react';\nimport auth from '../Components/auth';\nimport { IoMdRefresh } from \"react-icons/io\";\nimport { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport TextLoader from '../Components/TextLoader';\nexport function Start(props) {\n  const [data, setData] = useState(false);\n  const [text, setText] = useState([]);\n  const [words, setWord] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const history = useHistory();\n\n  function startTimer(e) {\n    document.getElementById('paraEnter').disabled = false;\n    document.getElementById('startbt').style.background = 'green';\n    var start = document.getElementById(\"startbt\");\n    start.className += \"disabled\";\n    var self = this;\n    setTimeout(function () {\n      document.getElementById('startbt').style.background = 'orangered';\n      document.getElementById('paraEnter').disabled = true;\n      var text = document.getElementById('wpm').innerHTML;\n      var wpm = text.split(\" \")[1];\n      console.log(wpm);\n      console.log(this.window);\n    }, 6000); // var input = window.localStorage.getItem(\"typerex_username\")\n    // axios.post(\"https://typerex.herokuapp.com/updateUser/\", { input,wpm })\n    // .then( (res) => {\n    //   console.log(res.data)\n    //   if(res.data === 'user_updated' ) {\n    //    cogoToast.success(\n    //       <div>\n    //         <div><b>Your wpm is { wpm }</b><br></br><i> Click the start button </i></div>\n    //       </div>,{ hideAfter:5},\n    //     );\n    //    self.handleReload();\n    //    document.getElementById('wpm').innerHTML = 'Wpm: 0';\n    //    document.getElementById('user-wpm').innerHTML = 'Last wpm : ' + wpm;\n    //    var element = document.getElementById(\"startbt\");\n    //    element.classList.remove(\"disabled\")\n    //  }\n    //  else {\n    //   console.warn('error in database')\n    //  }\n    // })\n    // .catch((e) =>{\n    //   console.log(e)\n    //   });\n    // console.log(input)  \n    // axios.post(\"https://typerex.herokuapp.com/infoUser/\", { username:input })\n    // .then( (res) => {\n    //   if(res.data !== 'no_user' ) {\n    //     document.getElementById('username').innerHTML = res.data.username;\n    //     document.getElementById('user-wpm').innerHTML = 'Last wpm : ' + res.data.wpm;\n    //     window.localStorage.setItem('wpm',res.data.wpm)\n    //     console.log(res.data)\n    //  }\n    //  else {\n    //   console.warn('error in database')\n    //  }\n    // })\n    // .catch((e) =>{\n    //   //   console.log(e)\n    //   //   });\n    // }, 60000);\n\n    useEffect(props => {\n      document.title = 'Start';\n      const username = localStorage.getItem('typerex_username');\n      console.log(username);\n      auth.userInfo(username).then(data => {\n        console.log(data);\n        console.log('logged in');\n      }).catch(e => {\n        history.push('/');\n      });\n      const url = \"https://typeracingapi.rishikc.com/.netlify/functions/server/text/\"; // Request\n\n      setLoading(true);\n      fetch(url).then(res => {\n        if (res.status === 200) {\n          return res.json();\n        } else return null;\n      }).then(data => {\n        console.log(data);\n\n        if (data !== null) {\n          setLoading(false);\n          setData(true);\n          setWord(data.text.split(' '));\n          setText(data.text);\n          console.log(text);\n          console.log(words);\n        } else {\n          setData(false);\n        }\n      });\n    }, []);\n\n    if (data) {\n      var rows = [];\n\n      for (var i = 0; i < text.length; i++) {\n        rows.push( /*#__PURE__*/React.createElement(\"span\", {\n          id: i,\n          key: i,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 27\n          }\n        }, text[i]));\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"para-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 41\n      }\n    }, \" \", /*#__PURE__*/React.createElement(TextLoader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 96\n      }\n    }), \" \") : rows, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"reloadbt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"reload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 30\n      }\n    }, /*#__PURE__*/React.createElement(IoMdRefresh, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 30\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-enter\",\n      style: {\n        display: 'flex'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      disabled: true,\n      id: \"paraEnter\",\n      type: \"text\",\n      placeholder: \"Start typing......\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 26\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"activity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      id: \"startbt\",\n      onClick: startTimer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 31\n      }\n    }, \" Start \"), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"timer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 31\n      }\n    }, \"Time: \"), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"wpm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 31\n      }\n    }, \"Wpm: \"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-below\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 23\n      }\n    }));\n  }\n}","map":{"version":3,"sources":["/home/amalsan/Github/Typerex/src/Pages/Start.js"],"names":["React","auth","IoMdRefresh","useState","useEffect","useHistory","TextLoader","Start","props","data","setData","text","setText","words","setWord","loading","setLoading","history","startTimer","e","document","getElementById","disabled","style","background","start","className","self","setTimeout","innerHTML","wpm","split","console","log","window","title","username","localStorage","getItem","userInfo","then","catch","push","url","fetch","res","status","json","rows","i","length","display","justifyContent"],"mappings":"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","sourcesContent":["import React from 'react';\nimport auth from '../Components/auth';\nimport { IoMdRefresh } from \"react-icons/io\";\nimport { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport TextLoader from '../Components/TextLoader';\n\n\n\n\n\nexport function Start (props) {\n\n\tconst[ data , setData ] = useState(false)\n\n\tconst[ text ,setText ] = useState([])\n\n\tconst[ words ,setWord] = useState([])\n\n\tconst[ loading, setLoading ] = useState(true)\n\n\tconst history = useHistory();\n\n\n\n\n\tfunction startTimer(e) {\n\t\t document.getElementById('paraEnter').disabled = false;\n\t     document.getElementById('startbt').style.background = 'green';\n\t     var start = document.getElementById(\"startbt\");\n\t     start.className += \"disabled\";\n\t     var self = this;\n\n\n\t    setTimeout(function(){\n\n\t        document.getElementById('startbt').style.background = 'orangered';\n\t        document.getElementById('paraEnter').disabled = true; \n\t        var text = document.getElementById('wpm').innerHTML\n\t        var wpm = text.split(\" \")[1]\n\t        console.log(wpm)\n\t        console.log(this.window)\n\n\n\t    },6000)\n\n\t        \n\t        // var input = window.localStorage.getItem(\"typerex_username\")\n\t        // axios.post(\"https://typerex.herokuapp.com/updateUser/\", { input,wpm })\n\t        // .then( (res) => {\n\t        //   console.log(res.data)\n\t        //   if(res.data === 'user_updated' ) {\n\t        //    cogoToast.success(\n\t        //       <div>\n\t        //         <div><b>Your wpm is { wpm }</b><br></br><i> Click the start button </i></div>\n\t        //       </div>,{ hideAfter:5},\n\t        //     );\n\t        //    self.handleReload();\n\t        //    document.getElementById('wpm').innerHTML = 'Wpm: 0';\n\t        //    document.getElementById('user-wpm').innerHTML = 'Last wpm : ' + wpm;\n\n\t        //    var element = document.getElementById(\"startbt\");\n\t        //    element.classList.remove(\"disabled\")\n\n\t        //  }\n\t        //  else {\n\n\t        //   console.warn('error in database')\n\n\t        //  }\n\t        // })\n\t        // .catch((e) =>{\n\t        //   console.log(e)\n\t        //   });\n\t        // console.log(input)  \n\t        // axios.post(\"https://typerex.herokuapp.com/infoUser/\", { username:input })\n\t        // .then( (res) => {\n\t        //   if(res.data !== 'no_user' ) {\n\t        //     document.getElementById('username').innerHTML = res.data.username;\n\t        //     document.getElementById('user-wpm').innerHTML = 'Last wpm : ' + res.data.wpm;\n\t        //     window.localStorage.setItem('wpm',res.data.wpm)\n\t        //     console.log(res.data)\n\t      \n\t        //  }\n\t        //  else {\n\n\t        //   console.warn('error in database')\n\n\t        //  }\n\t        // })\n\t        // .catch((e) =>{\n\t      //   //   console.log(e)\n\t      //   //   });\n\t      // }, 60000);\n\t\n\n\n\n\n\n\tuseEffect((props) => {\n  \t\t\n  \tdocument.title='Start';\n  \tconst username = localStorage.getItem('typerex_username');\n  \t\tconsole.log(username);\n      auth.userInfo(username)\n      .then((data) => {\n      \tconsole.log(data);\n        console.log('logged in')\n      })\n      .catch(e => {\n      \thistory.push('/')\n      })\n\n     const url = \"https://typeracingapi.rishikc.com/.netlify/functions/server/text/\";\n\n        // Request\n        setLoading(true);\n\t\t       \n        fetch(url).then(res => {\n            if(res.status === 200) {\n                return res.json()\n            }\n            else return null;\n        }).then(data => {\n            console.log(data)\n            if(data!==null)  {\n            \tsetLoading(false)\n            \tsetData(true)\n            \tsetWord(data.text.split(' '))\n            \tsetText(data.text)\n            \tconsole.log(text)\n            \tconsole.log(words)\n            } else {\n                setData(false)\n            }\n        });\n\n    \n  \t\t},[]);\n\n        if(data){\n            var rows = [];\n            for (var i = 0; i < text.length; i++) {\n                rows.push(<span id={i} key={i}>{text[i]}</span>);\n            }\n        }\n\n\t    return(   \n\t    \t<div className='test-container'> \n                    <div className='test-card'>\n                        <div className='para-card'>\n                            { loading ? <div style={{display:'flex',justifyContent:'center'}}> <TextLoader/> </div> : rows }\n                            <div className='reloadbt'>\n                            \t<span className='reload'> \n                            \t< IoMdRefresh /> \n                            \t</span>\n                            </div>\n                        </div>\n                        <div className='test-enter' style={{display:'flex'}}>\n                         <input disabled id='paraEnter' type='text' placeholder='Start typing......'></input>\n                          </div>\n                           <div className='activity'>\n                              <a id='startbt' onClick={startTimer}> Start </a>\n                              <p id='timer'>Time: </p>\n                              <p id='wpm'>Wpm: </p>\n                           </div>\n                        </div>\n                      <div className='test-below'>\n                    </div>\n                </div>\n\t\t\t);\n}\n}\n\n"]},"metadata":{},"sourceType":"module"}